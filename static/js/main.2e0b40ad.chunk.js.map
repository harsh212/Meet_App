{"version":3,"sources":["TextArea/TextArea.js","routes/CreateRoom.js","Icons/gmail.png","Icons/whatsapp.png","RoomDetail/RoomDetail.js","Icons/onlineIcon.png","Icons/closeIcon.png","Message/Message.js","ChatBox/Chatbox.js","Input/Input.js","components/board/Board.jsx","components/container/whiteboard.jsx","routes/Room.js","App.js","index.js"],"names":["TextArea","className","role","aria-label","CreateRoom","props","useState","name","setName","room","setRoom","roomID","uuid","placeholder","type","onChange","event","target","value","id","onClick","preventDefault","history","push","RoomDetail","src","href","gmail","height","width","margin","alt","whatsapp","Message","message","text","isSentByCurrentUser","username","trim","toLowerCase","ReactEmoji","emojify","Chatbox","messages","map","i","Input","setMessage","sendMessage","onKeyPress","key","Board","socket","io","connect","isDrawing","on","data","root","this","interval","setInterval","window","clearInterval","image","Image","ctx","document","querySelector","getContext","onload","drawImage","drawOnCanvas","newProps","strokeStyle","color","lineWidth","size","canvas","sketch","sketch_style","getComputedStyle","parseInt","getPropertyValue","mouse","x","y","last_mouse","addEventListener","e","pageX","offsetLeft","pageY","offsetTop","lineJoin","lineCap","onPaint","removeEventListener","beginPath","moveTo","lineTo","closePath","stroke","undefined","timeout","clearTimeout","setTimeout","base64ImageData","toDataURL","emit","React","Component","WhiteBoard","state","params","setState","changeColor","bind","changeSize","StyledVideo","styled","video","Video","peer","ref","useRef","useEffect","stream","current","srcObject","playsInline","autoPlay","videoConstraints","innerHeight","innerWidth","Room","location","console","log","peers","setPeers","socketRef","userVideo","peersRef","chatbox","setChatbox","queryString","parse","search","navigator","mediaDevices","getUserMedia","audio","then","users","forEach","userID","userToSignal","callerID","Peer","initiator","trickle","signal","createPeer","peerID","payload","incomingSignal","addPeer","find","p","muted","index","App","path","exact","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2e0b40ad.chunk.js","sourcesContent":["import React from 'react';\r\nimport './TextArea.css';\r\n\r\nconst TextArea=()=>(\r\n    <div className=\"textContainer\">\r\n    <div>\r\n      <h1>Meet Application <span role=\"img\" aria-label=\"emoji\">💬✉️</span></h1>\r\n      <h2>Created with React, Express, Node, Socket.IO and WebRTC <span role=\"img\" aria-label=\"emoji\"> 🎓 ❤️</span></h2>\r\n      <h2>Developed By Ayush, Harsh and Shubham ! <span role=\"img\" aria-label=\"emoji\">⬅️</span></h2>\r\n    </div>\r\n    </div>\r\n\r\n);\r\nexport default TextArea;","import React,{useState}from \"react\";\r\nimport {Link} from 'react-router-dom';\r\nimport { v1 as uuid } from 'uuid';\r\nimport './createroom.css';\r\nimport TextArea from \"../TextArea/TextArea\";\r\n\r\nconst CreateRoom = (props) => {\r\n    const[name,setName]=useState('');\r\n    const[room,setRoom]=useState('undefined');\r\n    const roomID=uuid();\r\n    const f=event=>{\r\n        event.preventDefault();\r\n        if(room==='undefined')\r\n            {\r\n                props.history.push(`/room?name=${name}&roomID=${roomID}`)\r\n            }\r\n        else\r\n        {\r\n            props.history.push(`/room?name=${name}&roomID=${room}`)\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"joinOuterContainer\">\r\n        <div className=\"leftContainer\">\r\n        <div className=\"heading\">Join Meeting</div>\r\n            <div><input placeholder=\"Enter Username\" className=\"joinInput mt-20\" type=\"text\" onChange={(event)=>setName(event.target.value)}/></div>\r\n            <div><input placeholder=\"Enter Room No. Or Click Create\" id=\"myroom\"className=\"joinInput mt-20\" type=\"text\" onChange={(event)=>setRoom(event.target.value)} /></div>\r\n            {/* <Link onClick={(event)=>(!name||!roomID||!room)?event.preventDefault():null} to={`/room?name=${name}&roomID=${roomID}`}>\r\n            <button className=\"button mt-20\" type=\"submit\">Create room/Join Room</button>\r\n            </Link> */}\r\n            <button className=\"button mt-20\" onClick={f}>Create room/Join Room</button>\r\n        </div>\r\n        <TextArea/>\r\n        </div>\r\n    );\r\n}; \r\n\r\nexport default CreateRoom;\r\n","export default __webpack_public_path__ + \"static/media/gmail.0678ea09.png\";","export default __webpack_public_path__ + \"static/media/whatsapp.c75084c4.png\";","import React from 'react'\r\nimport './RoomDetail.css';\r\nimport gmail from '../Icons/gmail.png'\r\nimport whatsapp from '../Icons/whatsapp.png'\r\nimport closeIcon from '../Icons/closeIcon.png';\r\nimport onlineIcon from '../Icons/onlineIcon.png';\r\nconst RoomDetail=({roomID})=>{\r\nreturn (<div className=\"infoBar\">\r\n    <div className=\"leftInnerContainer\">\r\n        <img className=\"onlineIcon\" src={onlineIcon}/>\r\n        <h5>In Call Messages</h5>\r\n    </div>\r\n    <div className=\"rightInnerContainer\">\r\n        <table>\r\n            <tr>\r\n             <td><a href=\"https://mail.google.com/mail/u/0/#inbox?compose=new\" target=\"_blank\"><img src={gmail} height=\"20px\" width=\"30px\" margin=\"10px\"  alt=\"Share room id\"/></a></td>\r\n            <td><a href=\"https://web.whatsapp.com/\" target=\"_blank\"><img src={whatsapp} height=\"20px\" width=\"30px\" margin=\"10px\" alt=\"Share room id\"/></a></td>\r\n            <td><a href=\"/\" > <img src={closeIcon}  height=\"20px\" width=\"30px\" margin=\"10px\"  alt=\"Close Chat\"/></a></td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</div>);\r\n}\r\nexport default RoomDetail;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\"","import React from 'react';\r\n\r\nimport './Message.css';\r\n\r\nimport ReactEmoji from 'react-emoji';\r\n\r\nconst Message = ({ message: { name,text }, username }) => {\r\n  let isSentByCurrentUser = false;\r\n\r\n  const trimmedName = username.trim().toLowerCase();\r\n\r\n  if(name === trimmedName) {\r\n    isSentByCurrentUser = true;\r\n  }\r\n\r\n  return (\r\n    isSentByCurrentUser\r\n      ? (\r\n        <div className=\"messageContainer justifyEnd\">\r\n          <p className=\"sentText pr-10\">{name}</p>\r\n          <div className=\"messageBox backgroundBlue\">\r\n            <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\r\n          </div>\r\n        </div>\r\n        )\r\n        : (\r\n          name==='admin'?(\r\n            <p className=\"sentText pc-10 \">{text}  ~admin</p>\r\n          )\r\n          :\r\n          (\r\n          <div className=\"messageContainer justifyStart\">\r\n            <div className=\"messageBox backgroundLight\">\r\n              <p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}</p>\r\n            </div>\r\n            <p className=\"sentText pl-10 \">{name}</p>\r\n          </div>\r\n          )\r\n        )\r\n  );\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\n\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n\r\nimport Message from '../Message/Message';\r\n\r\nimport './Chatbox.css';\r\n\r\nconst Chatbox = ({ messages, username }) => (\r\n  <ScrollToBottom className=\"messages\">\r\n    {messages.map((message, i) => <div key={i}><Message message={message} username={username}/></div>)}\r\n  </ScrollToBottom>\r\n);\r\n\r\nexport default Chatbox;","import React from 'react'\r\nimport './Input.css';\r\n\r\nconst Input=({message,setMessage,sendMessage})=>(\r\n    <form className=\"form\">\r\n        <input\r\n        className=\"input\"\r\n        type=\"text\"\r\n        placeholder=\"Type a message...\"\r\n        value={message}\r\n        onChange={(event)=>setMessage(event.target.value)}\r\n        onKeyPress={(event)=>event.key==='Enter'?sendMessage(event):null}\r\n        />\r\n        <button className=\"button wd-20\" type=\"submit\" onClick={(event)=>sendMessage(event)}>Send</button>\r\n    </form>\r\n\r\n);\r\nexport default Input;","import React from 'react';\r\nimport io from 'socket.io-client';\r\nimport { clearInterval } from 'timers';\r\nimport './style.css';\r\nclass Board extends React.Component{\r\n    timeout;\r\n    socket=io.connect(\"http://localhost:8000\");\r\n    ctx;\r\n    isDrawing=false; \r\n    constructor(props){\r\n        super(props);\r\n    \r\n        this.socket.on(\"canvas-data\",function(data){\r\n\r\n            var root=this;\r\n            var interval =setInterval(function(){\r\n                if(root.isDrawing) return;\r\n                root.isDrawing=true;\r\n                window.clearInterval(interval);\r\n                var image = new Image();\r\n                var canvas = document.querySelector('#board');\r\n                var ctx = canvas.getContext('2d');\r\n                image.onload = function(){\r\n                    ctx.drawImage(image,0,0);\r\n\r\n                    root.isDrawing=false;\r\n                };\r\n                image.src = data;\r\n            },200)\r\n           \r\n        }) \r\n    }\r\n    componentDidMount()\r\n    {\r\n        this.drawOnCanvas();\r\n    }\r\n\r\n    componentWillReceiveProps(newProps){\r\n        this.ctx.strokeStyle=newProps.color;\r\n        this.ctx.lineWidth=newProps.size;\r\n    }\r\n    drawOnCanvas()\r\n    {\r\n        var canvas = document.querySelector('#board');\r\n        this.ctx = canvas.getContext('2d');\r\n        var ctx=this.ctx;\r\n\r\n        var sketch = document.querySelector('#sketch');\r\n        var sketch_style = getComputedStyle(sketch);\r\n        canvas.width = parseInt(sketch_style.getPropertyValue('width'));\r\n        canvas.height = parseInt(sketch_style.getPropertyValue('height'));\r\n\r\n        var mouse = {x: 0, y: 0};\r\n        var last_mouse = {x: 0, y: 0};\r\n\r\n        /* Mouse Capturing Work */\r\n        canvas.addEventListener('mousemove', function(e) {\r\n            last_mouse.x = mouse.x;\r\n            last_mouse.y = mouse.y;\r\n\r\n            mouse.x = e.pageX - this.offsetLeft;\r\n            mouse.y = e.pageY - this.offsetTop;\r\n        }, false);\r\n\r\n\r\n        /* Drawing on Paint App */\r\n        ctx.lineWidth = this.props.size;\r\n        ctx.lineJoin = 'round';\r\n        ctx.lineCap = 'round';\r\n        ctx.strokeStyle = this.props.color;\r\n\r\n        canvas.addEventListener('mousedown', function(e) {\r\n            canvas.addEventListener('mousemove', onPaint, false);\r\n        }, false);\r\n\r\n        canvas.addEventListener('mouseup', function() {\r\n            canvas.removeEventListener('mousemove', onPaint, false);\r\n        }, false);\r\n        var root=this;\r\n        var onPaint = function() {\r\n            ctx.beginPath();\r\n            ctx.moveTo(last_mouse.x, last_mouse.y);\r\n            ctx.lineTo(mouse.x, mouse.y);\r\n            ctx.closePath();\r\n            ctx.stroke();\r\n            if(root.timeout!== undefined) clearTimeout(root.timeout);\r\n            root.timeout = setTimeout(function(){\r\n                var base64ImageData = canvas.toDataURL(\"image/png\");\r\n                root.socket.emit(\"canvas-data\", base64ImageData);\r\n            },1000)\r\n            \r\n        };\r\n\r\n    }\r\n    render() {\r\n        return (\r\n          <div className=\"sketch\" id=\"sketch\">\r\n              <canvas className=\"board\" id=\"board\"></canvas>\r\n          </div> \r\n        )\r\n    }\r\n}\r\nexport default Board","import React from 'react';\r\nimport Board from '../board/Board';\r\nimport './style.css';\r\nclass WhiteBoard extends React.Component\r\n{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            color:\"#000000\",\r\n            size: \"5\"\r\n        }\r\n    }\r\n    changeColor(params){\r\n        this.setState({\r\n            color: params.target.value\r\n        })\r\n    }\r\n    changeSize(params){\r\n        this.setState({\r\n            size: params.target.value\r\n        })\r\n    }\r\n    render() {\r\n        return(\r\n            <div className=\"\">\r\n                <div className=\"tools-section\">\r\n                    <div className=\"color-picker-containerc\">\r\n                        Select Brush Color : &nbsp;\r\n                        <input type=\"color\" value={this.state.color} onChange={this.changeColor.bind(this)}/>\r\n                    </div>\r\n                    <div className=\"brushsize-container\">\r\n                        Select Brush Size : &nbsp; \r\n                        <select value={this.state.size} onChange={this.changeSize.bind(this)}>\r\n                            <option>5</option>\r\n                            <option>10</option>\r\n                            <option>15</option>\r\n                            <option>20</option>\r\n                            <option>25</option>\r\n                            <option>30</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"board-container row\">\r\n                    <Board color={this.state.color} size={this.state.size}></Board>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default WhiteBoard","import React, { useEffect, useRef, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport Peer from \"simple-peer\";\r\nimport styled from \"styled-components\";\r\nimport queryString from 'query-string'\r\nimport RoomDetail from '../RoomDetail/RoomDetail';\r\nimport Chatbox from '../ChatBox/Chatbox';\r\nimport Input from '../Input/Input';\r\nimport './Room.css'\r\nimport WhiteBoard from '../components/container/whiteboard';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n<link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css\" rel=\"stylesheet\"></link>\r\n\r\n// const Container = styled.div`\r\n//     padding: 0px;\r\n//     display: flex;\r\n//     height: 100vh;\r\n//     width: 90%;\r\n//     background-color: black;\r\n// `;\r\n\r\nconst StyledVideo = styled.video`\r\n    width: 80%;\r\n    height: 80%;\r\n    border-radius: 10px;\r\n    border: 2px solid #004d00;\r\n    box-shadow: 2px 2px 5px;\r\n    margin: 0px;\r\n    background-color: black;\r\n`;\r\n\r\nconst Video = ({key,peer}) => {\r\n    const ref = useRef();\r\n\r\n    useEffect(() => {\r\n        peer.on(\"stream\", stream => {\r\n            ref.current.srcObject = stream;\r\n        })\r\n    }, []);\r\n\r\n    return (\r\n        <StyledVideo playsInline autoPlay ref={ref} />\r\n    );\r\n}\r\n\r\n\r\nconst videoConstraints = {\r\n    height: window.innerHeight / 2,\r\n    width: window.innerWidth / 2\r\n};\r\n\r\nconst Room = ({location}) => {\r\n    console.log('in here');\r\n\r\n    const [peers, setPeers] = useState([]);\r\n    const socketRef = useRef();\r\n    const userVideo = useRef();\r\n    const peersRef = useRef([]);\r\n    const[chatbox,setChatbox]=useState([]);\r\n    const[message,setMessage]=useState(''); \r\n    const {name,roomID}=queryString.parse(location.search);\r\n    console.log(`room id= ${roomID}`)\r\n\r\n    useEffect(() => {\r\n        socketRef.current = io(' https://meet-app-server.herokuapp.com/');\r\n        navigator.mediaDevices.getUserMedia({ video: videoConstraints, audio: true }).then(stream => {\r\n            userVideo.current.srcObject = stream;\r\n            socketRef.current.emit(\"join room\", {roomID,name});\r\n            socketRef.current.on(\"all users\", users => {\r\n                const peers = [];\r\n                users.forEach(userID => {\r\n                    const peer = createPeer(userID, socketRef.current.id, stream);\r\n                    peersRef.current.push({\r\n                        peerID: userID,\r\n                        peer,\r\n                    })\r\n                    peers.push(peer);\r\n                })\r\n                setPeers(peers);\r\n            })\r\n\r\n            socketRef.current.on(\"user joined\", payload => {\r\n                const peer = addPeer(payload.signal, payload.callerID, stream);\r\n                peersRef.current.push({\r\n                    peerID: payload.callerID,\r\n                    peer,\r\n                })\r\n\r\n                setPeers(users => [...users, peer]);\r\n            });\r\n\r\n            socketRef.current.on(\"receiving returned signal\", payload => {\r\n                const item = peersRef.current.find(p => p.peerID === payload.id);\r\n                item.peer.signal(payload.signal);\r\n            });\r\n        })\r\n    }, []);\r\n\r\n    useEffect(()=>{\r\n        socketRef.current.on('message',(message)=>{\r\n           setChatbox([...chatbox,message]);//push message in chatbox array\r\n           console.log(chatbox);\r\n        })\r\n   },[chatbox]);\r\n\r\n    function createPeer(userToSignal, callerID, stream) {\r\n        const peer = new Peer({\r\n            initiator: true,\r\n            trickle: false,\r\n            stream,\r\n        });\r\n\r\n        peer.on(\"signal\", signal => {\r\n            socketRef.current.emit(\"sending signal\", { userToSignal, callerID, signal })\r\n        })\r\n\r\n        return peer;\r\n    }\r\n\r\n    function addPeer(incomingSignal, callerID, stream) {\r\n        const peer = new Peer({\r\n            initiator: false,\r\n            trickle: false,\r\n            stream,\r\n        })\r\n\r\n        peer.on(\"signal\", signal => {\r\n            socketRef.current.emit(\"returning signal\", { signal, callerID })\r\n        })\r\n\r\n        peer.signal(incomingSignal);\r\n\r\n        return peer;\r\n    }\r\n\r\n    const sendMessage=(event)=>{\r\n        event.preventDefault();\r\n        if(message){\r\n            socketRef.current.emit('sendMessage',{message,name,roomID},()=>setMessage(''));\r\n        }\r\n    }\r\n    console.log(message,chatbox);\r\n\r\n    return (\r\n        <div className=\"outerContainer\">\r\n             <div className=\"contain\">\r\n            <WhiteBoard/>\r\n            </div>\r\n         <div className=\"container vidcontainer\">\r\n         \r\n            <div className=\"row\">\r\n            <StyledVideo muted ref={userVideo} autoPlay playsInline />\r\n            </div>\r\n            \r\n            {peers.map((peer, index) => {\r\n                return (\r\n                    <div className=\"row\">\r\n                    \r\n                        <Video key={index} peer={peer} /> \r\n                    \r\n                    </div>  \r\n                );\r\n            })}\r\n\r\n            \r\n        </div>\r\n       \r\n        <div className=\"containing\">\r\n                <RoomDetail roomID={roomID}/>\r\n                <Chatbox messages={chatbox} username={name}/>\r\n                <Input message={message} setMessage={setMessage} sendMessage={sendMessage}>\r\n                </Input>\r\n        </div>\r\n        </div>\r\n        \r\n        \r\n    );\r\n};\r\n\r\nexport default Room;\r\n","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport CreateRoom from \"./routes/CreateRoom\";\r\nimport Room from \"./routes/Room\";\r\n\r\nfunction App() { \r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={CreateRoom} />\r\n        <Route path=\"/room\" component={Room} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n\r\n"],"sourceRoot":""}