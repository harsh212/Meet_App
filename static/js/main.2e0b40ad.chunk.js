(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},139:function(e,t){},141:function(e,t){},156:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},189:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),a=n.n(s),i=n(93),r=n.n(i),o=(n(103),n(57)),l=n(2),u=n(17),j=n(192),d=(n(104),n(105),function(){return Object(c.jsx)("div",{className:"textContainer",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("h1",{children:["Meet Application ",Object(c.jsx)("span",{role:"img","aria-label":"emoji",children:"\ud83d\udcac\u2709\ufe0f"})]}),Object(c.jsxs)("h2",{children:["Created with React, Express, Node, Socket.IO and WebRTC ",Object(c.jsx)("span",{role:"img","aria-label":"emoji",children:" \ud83c\udf93 \u2764\ufe0f"})]}),Object(c.jsxs)("h2",{children:["Developed By Ayush, Harsh and Shubham ! ",Object(c.jsx)("span",{role:"img","aria-label":"emoji",children:"\u2b05\ufe0f"})]})]})})}),h=function(e){var t=Object(s.useState)(""),n=Object(u.a)(t,2),a=n[0],i=n[1],r=Object(s.useState)("undefined"),o=Object(u.a)(r,2),l=o[0],h=o[1],m=Object(j.a)();return Object(c.jsxs)("div",{className:"joinOuterContainer",children:[Object(c.jsxs)("div",{className:"leftContainer",children:[Object(c.jsx)("div",{className:"heading",children:"Join Meeting"}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{placeholder:"Enter Username",className:"joinInput mt-20",type:"text",onChange:function(e){return i(e.target.value)}})}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{placeholder:"Enter Room No. Or Click Create",id:"myroom",className:"joinInput mt-20",type:"text",onChange:function(e){return h(e.target.value)}})}),Object(c.jsx)("button",{className:"button mt-20",onClick:function(t){t.preventDefault(),"undefined"===l?e.history.push("/room?name=".concat(a,"&roomID=").concat(m)):e.history.push("/room?name=".concat(a,"&roomID=").concat(l))},children:"Create room/Join Room"})]}),Object(c.jsx)(d,{})]})},m=n(63),b=n(94),x=n(35),O=n.n(x),p=n(58),g=n.n(p),f=n(96),v=n(95),A=n.n(v),y=(n(156),n.p+"static/media/gmail.0678ea09.png"),C=n.p+"static/media/whatsapp.c75084c4.png",N=function(e){e.roomID;return Object(c.jsxs)("div",{className:"infoBar",children:[Object(c.jsxs)("div",{className:"leftInnerContainer",children:[Object(c.jsx)("img",{className:"onlineIcon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII="}),Object(c.jsx)("h5",{children:"In Call Messages"})]}),Object(c.jsx)("div",{className:"rightInnerContainer",children:Object(c.jsx)("table",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("a",{href:"https://mail.google.com/mail/u/0/#inbox?compose=new",target:"_blank",children:Object(c.jsx)("img",{src:y,height:"20px",width:"30px",margin:"10px",alt:"Share room id"})})}),Object(c.jsx)("td",{children:Object(c.jsx)("a",{href:"https://web.whatsapp.com/",target:"_blank",children:Object(c.jsx)("img",{src:C,height:"20px",width:"30px",margin:"10px",alt:"Share room id"})})}),Object(c.jsx)("td",{children:Object(c.jsxs)("a",{href:"/",children:[" ",Object(c.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=",height:"20px",width:"30px",margin:"10px",alt:"Close Chat"})]})})]})})})]})},I=n(56),w=n.n(I),S=(n(179),n(59)),k=n.n(S),D=function(e){var t=e.message,n=t.name,s=t.text,a=!1;return n===e.username.trim().toLowerCase()&&(a=!0),a?Object(c.jsxs)("div",{className:"messageContainer justifyEnd",children:[Object(c.jsx)("p",{className:"sentText pr-10",children:n}),Object(c.jsx)("div",{className:"messageBox backgroundBlue",children:Object(c.jsx)("p",{className:"messageText colorWhite",children:k.a.emojify(s)})})]}):"admin"===n?Object(c.jsxs)("p",{className:"sentText pc-10 ",children:[s,"  ~admin"]}):Object(c.jsxs)("div",{className:"messageContainer justifyStart",children:[Object(c.jsx)("div",{className:"messageBox backgroundLight",children:Object(c.jsx)("p",{className:"messageText colorDark",children:k.a.emojify(s)})}),Object(c.jsx)("p",{className:"sentText pl-10 ",children:n})]})},E=(n(180),function(e){var t=e.messages,n=e.username;return Object(c.jsx)(w.a,{className:"messages",children:t.map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsx)(D,{message:e,username:n})},t)}))})}),R=(n(181),function(e){var t=e.message,n=e.setMessage,s=e.sendMessage;return Object(c.jsxs)("form",{className:"form",children:[Object(c.jsx)("input",{className:"input",type:"text",placeholder:"Type a message...",value:t,onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?s(e):null}}),Object(c.jsx)("button",{className:"button wd-20",type:"submit",onClick:function(e){return s(e)},children:"Send"})]})}),M=(n(182),n(39)),B=n(40),T=n(42),U=n(41),z=(n(183),n(185),function(e){Object(T.a)(n,e);var t=Object(U.a)(n);function n(e){var c;return Object(M.a)(this,n),(c=t.call(this,e)).socket=O.a.connect("http://localhost:8000"),c.isDrawing=!1,c.socket.on("canvas-data",(function(e){var t=this,n=setInterval((function(){if(!t.isDrawing){t.isDrawing=!0,window.clearInterval(n);var c=new Image,s=document.querySelector("#board").getContext("2d");c.onload=function(){s.drawImage(c,0,0),t.isDrawing=!1},c.src=e}}),200)})),c}return Object(B.a)(n,[{key:"componentDidMount",value:function(){this.drawOnCanvas()}},{key:"componentWillReceiveProps",value:function(e){this.ctx.strokeStyle=e.color,this.ctx.lineWidth=e.size}},{key:"drawOnCanvas",value:function(){var e=document.querySelector("#board");this.ctx=e.getContext("2d");var t=this.ctx,n=document.querySelector("#sketch"),c=getComputedStyle(n);e.width=parseInt(c.getPropertyValue("width")),e.height=parseInt(c.getPropertyValue("height"));var s={x:0,y:0},a={x:0,y:0};e.addEventListener("mousemove",(function(e){a.x=s.x,a.y=s.y,s.x=e.pageX-this.offsetLeft,s.y=e.pageY-this.offsetTop}),!1),t.lineWidth=this.props.size,t.lineJoin="round",t.lineCap="round",t.strokeStyle=this.props.color,e.addEventListener("mousedown",(function(t){e.addEventListener("mousemove",r,!1)}),!1),e.addEventListener("mouseup",(function(){e.removeEventListener("mousemove",r,!1)}),!1);var i=this,r=function(){t.beginPath(),t.moveTo(a.x,a.y),t.lineTo(s.x,s.y),t.closePath(),t.stroke(),void 0!==i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout((function(){var t=e.toDataURL("image/png");i.socket.emit("canvas-data",t)}),1e3)}}},{key:"render",value:function(){return Object(c.jsx)("div",{className:"sketch",id:"sketch",children:Object(c.jsx)("canvas",{className:"board",id:"board"})})}}]),n}(a.a.Component)),L=(n(186),function(e){Object(T.a)(n,e);var t=Object(U.a)(n);function n(e){var c;return Object(M.a)(this,n),(c=t.call(this,e)).state={color:"#000000",size:"5"},c}return Object(B.a)(n,[{key:"changeColor",value:function(e){this.setState({color:e.target.value})}},{key:"changeSize",value:function(e){this.setState({size:e.target.value})}},{key:"render",value:function(){return Object(c.jsxs)("div",{className:"",children:[Object(c.jsxs)("div",{className:"tools-section",children:[Object(c.jsxs)("div",{className:"color-picker-containerc",children:["Select Brush Color : \xa0",Object(c.jsx)("input",{type:"color",value:this.state.color,onChange:this.changeColor.bind(this)})]}),Object(c.jsxs)("div",{className:"brushsize-container",children:["Select Brush Size : \xa0",Object(c.jsxs)("select",{value:this.state.size,onChange:this.changeSize.bind(this),children:[Object(c.jsx)("option",{children:"5"}),Object(c.jsx)("option",{children:"10"}),Object(c.jsx)("option",{children:"15"}),Object(c.jsx)("option",{children:"20"}),Object(c.jsx)("option",{children:"25"}),Object(c.jsx)("option",{children:"30"})]})]})]}),Object(c.jsx)("div",{className:"board-container row",children:Object(c.jsx)(z,{color:this.state.color,size:this.state.size})})]})}}]),n}(a.a.Component));function P(){var e=Object(b.a)(["\n    width: 80%;\n    height: 80%;\n    border-radius: 10px;\n    border: 2px solid #004d00;\n    box-shadow: 2px 2px 5px;\n    margin: 0px;\n    background-color: black;\n"]);return P=function(){return e},e}var W=f.a.video(P()),J=function(e){e.key;var t=e.peer,n=Object(s.useRef)();return Object(s.useEffect)((function(){t.on("stream",(function(e){n.current.srcObject=e}))}),[]),Object(c.jsx)(W,{playsInline:!0,autoPlay:!0,ref:n})},Y={height:window.innerHeight/2,width:window.innerWidth/2},Q=function(e){var t=e.location;console.log("in here");var n=Object(s.useState)([]),a=Object(u.a)(n,2),i=a[0],r=a[1],o=Object(s.useRef)(),l=Object(s.useRef)(),j=Object(s.useRef)([]),d=Object(s.useState)([]),h=Object(u.a)(d,2),b=h[0],x=h[1],p=Object(s.useState)(""),f=Object(u.a)(p,2),v=f[0],y=f[1],C=A.a.parse(t.search),I=C.name,w=C.roomID;console.log("room id= ".concat(w)),Object(s.useEffect)((function(){o.current=O()(" https://meet-app-server.herokuapp.com/"),navigator.mediaDevices.getUserMedia({video:Y,audio:!0}).then((function(e){l.current.srcObject=e,o.current.emit("join room",{roomID:w,name:I}),o.current.on("all users",(function(t){var n=[];t.forEach((function(t){var c=function(e,t,n){var c=new g.a({initiator:!0,trickle:!1,stream:n});return c.on("signal",(function(n){o.current.emit("sending signal",{userToSignal:e,callerID:t,signal:n})})),c}(t,o.current.id,e);j.current.push({peerID:t,peer:c}),n.push(c)})),r(n)})),o.current.on("user joined",(function(t){var n=function(e,t,n){var c=new g.a({initiator:!1,trickle:!1,stream:n});return c.on("signal",(function(e){o.current.emit("returning signal",{signal:e,callerID:t})})),c.signal(e),c}(t.signal,t.callerID,e);j.current.push({peerID:t.callerID,peer:n}),r((function(e){return[].concat(Object(m.a)(e),[n])}))})),o.current.on("receiving returned signal",(function(e){j.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)}))}))}),[]),Object(s.useEffect)((function(){o.current.on("message",(function(e){x([].concat(Object(m.a)(b),[e])),console.log(b)}))}),[b]);return console.log(v,b),Object(c.jsxs)("div",{className:"outerContainer",children:[Object(c.jsx)("div",{className:"contain",children:Object(c.jsx)(L,{})}),Object(c.jsxs)("div",{className:"container vidcontainer",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)(W,{muted:!0,ref:l,autoPlay:!0,playsInline:!0})}),i.map((function(e,t){return Object(c.jsx)("div",{className:"row",children:Object(c.jsx)(J,{peer:e},t)})}))]}),Object(c.jsxs)("div",{className:"containing",children:[Object(c.jsx)(N,{roomID:w}),Object(c.jsx)(E,{messages:b,username:I}),Object(c.jsx)(R,{message:v,setMessage:y,sendMessage:function(e){e.preventDefault(),v&&o.current.emit("sendMessage",{message:v,name:I,roomID:w},(function(){return y("")}))}})]})]})};var K=function(){return Object(c.jsx)(o.a,{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{path:"/",exact:!0,component:h}),Object(c.jsx)(l.a,{path:"/room",component:Q})]})})};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(K,{})}),document.getElementById("root"))}},[[189,1,2]]]);
//# sourceMappingURL=main.2e0b40ad.chunk.js.map